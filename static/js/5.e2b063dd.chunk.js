(this["webpackJsonpforget.it"]=this["webpackJsonpforget.it"]||[]).push([[5],{220:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return n}));var s=t(37),r=function(e,a){var t={change_password:"/api/user/change-password"};return new Promise((function(r,n){s.a.post(t[e],a).then((function(e){return 200===e.status&&r(e.data)})).catch((function(e){console.log(e.response),n(e.response)}))}))},n=function(e,a){var t={update_user_info:"/api/user/user-info"};return new Promise((function(r,n){s.a.patch(t[e],a).then((function(e){return 200===e.status&&r(e.data)})).catch((function(e){console.log(e.message),n(e.response)}))}))}},300:function(e,a,t){"use strict";t.r(a);var s=t(13),r=t(25),n=t(0),i=t.n(n),c=t(16),l=t(210),o=t(301),d=t(309),u=t(203),m=t(304),b=t(57),j=t(220),f=t(26),h=t(22),p=t(2);a.default=function(){var e=i.a.useState(!1),a=Object(r.a)(e,2),t=a[0],n=a[1],O=Object(c.e)((function(e){return e.auth})).authUser,x=Object(c.d)(),g=Object(b.b)({mode:"onChange",defaultValues:O}),v=g.register,y=g.control,N=g.handleSubmit,w=g.setError,_=g.formState.errors;return Object(p.jsxs)("div",{className:"p-3",children:[Object(p.jsx)("h3",{className:"mb-3 pb-2 border-bottom text-center",children:"User Information"}),Object(p.jsxs)("form",{onSubmit:N((function(e){n(!0),Object(j.a)("update_user_info",e).then((function(e){f.b.success("Information updated!"),x({type:h.d,payload:e})})).catch((function(e){400===e.status&&Object.keys(e.data).forEach((function(a){"username"!==a&&(f.b.error(e.data[a][0]),w(a,{message:e.data[a][0]}))}))})).finally((function(){return n(!1)}))})),noValidate:!0,children:[Object(p.jsxs)("div",{className:"form-row",children:[Object(p.jsx)("div",{className:"col-sm-6",children:Object(p.jsx)(l.a,{label:"First Name",fullWidth:!0,size:"small",margin:"dense",disabled:t,required:!0,autoFocus:!0,error:!!_.first_name,inputProps:Object(s.a)({},v("first_name",{required:!0}))})}),Object(p.jsx)("div",{className:"col-sm-6",children:Object(p.jsx)(l.a,{label:"Last Name",fullWidth:!0,size:"small",margin:"dense",disabled:t,required:!0,error:!!_.last_name,inputProps:Object(s.a)({},v("last_name",{required:!0}))})}),Object(p.jsx)("div",{className:"col-8",children:Object(p.jsx)(l.a,{label:"Username",fullWidth:!0,size:"small",margin:"dense",disabled:!0,value:O.username})})]}),Object(p.jsx)("div",{className:"form-row",children:Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(l.a,{label:"Email",fullWidth:!0,size:"small",margin:"dense",type:"email",disabled:t,required:!0,error:!!_.email,inputProps:Object(s.a)({},v("email",{required:!0}))})})}),Object(p.jsx)(b.a,{control:y,name:"encrypt_pswds",render:function(e){var a=e.field,t=a.onChange,s=a.value,r=a.ref;return Object(p.jsx)(o.a,{label:"Encrypt Passwords",className:"my-3 mx-0",onChange:t,inputRef:r,disabled:!0,control:Object(p.jsx)(d.a,{size:"small",color:"primary",checked:!!s}),labelPlacement:"start"})}}),!O.email_verified&&Object(p.jsxs)(m.a,{className:"w-100 py-0",severity:"warning",children:["Email is not verified! ",Object(p.jsx)("strong",{children:"Verify now"})]}),Object(p.jsx)("div",{className:"my-3 d-flex align-items-center justify-content-center",children:Object(p.jsx)(u.a,{className:"bg-gradient",size:"small",type:"submit",variant:"contained",color:"primary",disabled:t,children:"Save"})})]})]})}}}]);
//# sourceMappingURL=5.e2b063dd.chunk.js.map