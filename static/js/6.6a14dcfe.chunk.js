(this["webpackJsonpforget.it"]=this["webpackJsonpforget.it"]||[]).push([[6],{220:function(s,e,a){"use strict";a.d(e,"b",(function(){return t})),a.d(e,"a",(function(){return n}));var r=a(37),t=function(s,e){var a={change_password:"/api/user/change-password"};return new Promise((function(t,n){r.a.post(a[s],e).then((function(s){return 200===s.status&&t(s.data)})).catch((function(s){console.log(s.response),n(s.response)}))}))},n=function(s,e){var a={update_user_info:"/api/user/user-info"};return new Promise((function(t,n){r.a.patch(a[s],e).then((function(s){return 200===s.status&&t(s.data)})).catch((function(s){console.log(s.message),n(s.response)}))}))}},302:function(s,e,a){"use strict";a.r(e);var r=a(13),t=a(25),n=a(210),o=a(203),d=a(0),i=a.n(d),c=a(57),l=a(26),u=a(220),p=a(2);e.default=function(){var s,e,a=i.a.useState(!1),d=Object(t.a)(a,2),m=d[0],b=d[1],h=Object(c.b)({mode:"onChange"}),w=h.register,f=h.handleSubmit,g=h.setError,j=h.reset,O=h.formState.errors;return Object(p.jsxs)("div",{className:"p-3",children:[Object(p.jsx)("h3",{className:"mb-3 pb-2 border-bottom text-center",children:"Change Password"}),Object(p.jsxs)("form",{onSubmit:f((function(s){s.password!==s.conf_password?(g("password",{message:"Those passwords didn\u2019t match."}),g("conf_password",{message:"Those passwords didn\u2019t match."},{shouldFocus:!0}),l.b.warning("Those passwords didn\u2019t match. Try again.")):(b(!0),Object(u.b)("change_password",s).then((function(s){l.b.success("Password has been changed."),j({})})).catch((function(s){400===s.status?(l.b.warning(s.data.message),g("password",{message:s.data.message}),g("conf_password",{message:s.data.message})):401===s.status&&(l.b.warn("Wrong password! Try again."),g("current_password",{message:s.data.message}))})).finally((function(){return b(!1)})))})),noValidate:!0,children:[Object(p.jsxs)("div",{className:"form-row",children:[Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(n.a,{label:"Current Password",fullWidth:!0,size:"small",margin:"dense",type:"password",disabled:m,required:!0,error:!!O.current_password,inputProps:Object(r.a)({},w("current_password"))})}),Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(n.a,{label:"Password",fullWidth:!0,size:"small",margin:"dense",type:"password",disabled:m,required:!0,helperText:!!O.password&&((null===(s=O.password)||void 0===s?void 0:s.message)||"Password should be atleast 8 digit."),error:!!O.password,inputProps:Object(r.a)({},w("password",{required:!0,minLength:8}))})}),Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(n.a,{label:"Confirm Password",fullWidth:!0,size:"small",margin:"dense",type:"password",disabled:m,required:!0,helperText:!!O.conf_password&&((null===(e=O.conf_password)||void 0===e?void 0:e.message)||"Password should be atleast 8 digit."),error:!!O.conf_password,inputProps:Object(r.a)({},w("conf_password",{required:!0,minLength:8}))})})]}),Object(p.jsx)("div",{className:"my-3 d-flex align-items-center justify-content-center",children:Object(p.jsx)(o.a,{size:"small",className:"bg-gradient",type:"submit",variant:"contained",color:"primary",disabled:m,children:"Change"})})]})]})}}}]);
//# sourceMappingURL=6.6a14dcfe.chunk.js.map