{"version":3,"sources":["assets/images/empty.svg","app/routes/Home/style.js","app/routes/Home/Credentials.jsx","app/routes/Home/server_actions.js","styles/toast-style.js","components/forms/credential-form.jsx","components/loading/searching.jsx","util/CustomScrollbars.js","app/routes/Home/index.jsx"],"names":["_path","_path2","_path3","_circle","_circle2","_path4","_path5","_path6","_circle3","_circle4","makeStyles","theme","root","width","paddingBottom","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","fontWeight","secondaryHeading","color","palette","text","secondary","marginLeft","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEmpty","_ref","svgRef","title","titleId","props","id","xmlns","height","viewBox","ref","d","transform","fill","cx","cy","r","ForwardRef","getHost","url","URL","host","Credentials","credential_list","handleList","formOpen","classes","homeStyles","React","useState","expanded","setExpanded","className","map","cre","Accordion","onChange","panel","_","isExpanded","AccordionSummary","expandIcon","alt","src","Typography","AccordionDetails","credential","CredentialDetails","show","setShow","date_time","Date","added_on","date","toDateString","split","Grid","container","spacing","item","xs","sm","direction","gutterBottom","variant","Link","href","toLocaleTimeString","username","onDoubleClick","pswd","IconButton","size","onClick","Edit","DeleteForever","post","type","form_inputs","urls","add_credential","Promise","resolve","reject","axios","then","resp","status","data","catch","err","console","log","message","toast","error","response","statusCode","put","update_credential","success","msg","render","isLoading","autoClose","Transition","forwardRef","Slide","CredentialForm","handleClose","open","update_data","saving","setSaving","useForm","defaultValues","register","control","errors","formState","getValues","setValue","handleSubmit","reset","useEffect","current","handleTitle","useCallback","e","site_url","value","get","Dialog","TransitionComponent","onClose","DialogTitle","onSubmit","loading","request_func","resp_data","update","finally","DialogContent","name","field","TextField","label","fullWidth","disabled","margin","placeholder","required","autoFocus","onBlur","inputProps","InputProps","endAdornment","InputAdornment","position","AssignmentInd","VpnKey","DialogActions","Button","DataSearching","style","CustomScrollbars","autoHide","renderTrackHorizontal","display","query","useSelector","search","setOpen","setLoading","setCredentialList","credentials","useRef","form_data","action_type","idx","findIndex","val","t_id","delete_credential","delete","del","filter","new_list","obj","some","toLowerCase","includes","Fragment","Fab","bottom","right"],"mappings":"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","file":"static/js/7.434799ca.chunk.js","sourcesContent":["var _path, _path2, _path3, _circle, _circle2, _path4, _path5, _path6, _circle3, _circle4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEmpty(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"b21613c9-2bf0-4d37-bef0-3b193d34fc5d\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 647.63626,\n    height: 632.17383,\n    viewBox: \"0 0 647.63626 632.17383\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M687.3279,276.08691H512.81813a15.01828,15.01828,0,0,0-15,15v387.85l-2,.61005-42.81006,13.11a8.00676,8.00676,0,0,1-9.98974-5.31L315.678,271.39691a8.00313,8.00313,0,0,1,5.31006-9.99l65.97022-20.2,191.25-58.54,65.96972-20.2a7.98927,7.98927,0,0,1,9.99024,5.3l32.5498,106.32Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#f2f2f2\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M725.408,274.08691l-39.23-128.14a16.99368,16.99368,0,0,0-21.23-11.28l-92.75,28.39L380.95827,221.60693l-92.75,28.4a17.0152,17.0152,0,0,0-11.28028,21.23l134.08008,437.93a17.02661,17.02661,0,0,0,16.26026,12.03,16.78926,16.78926,0,0,0,4.96972-.75l63.58008-19.46,2-.62v-2.09l-2,.61-64.16992,19.65a15.01489,15.01489,0,0,1-18.73-9.95l-134.06983-437.94a14.97935,14.97935,0,0,1,9.94971-18.73l92.75-28.4,191.24024-58.54,92.75-28.4a15.15551,15.15551,0,0,1,4.40966-.66,15.01461,15.01461,0,0,1,14.32032,10.61l39.0498,127.56.62012,2h2.08008Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#3f3d56\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M398.86279,261.73389a9.0157,9.0157,0,0,1-8.61133-6.3667l-12.88037-42.07178a8.99884,8.99884,0,0,1,5.9712-11.24023l175.939-53.86377a9.00867,9.00867,0,0,1,11.24072,5.9707l12.88037,42.07227a9.01029,9.01029,0,0,1-5.9707,11.24072L401.49219,261.33887A8.976,8.976,0,0,1,398.86279,261.73389Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#fb7e3d\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 190.15351,\n    cy: 24.95465,\n    r: 20,\n    fill: \"#fb7e3d\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 190.15351,\n    cy: 24.95465,\n    r: 12.66462,\n    fill: \"#fff\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M878.81836,716.08691h-338a8.50981,8.50981,0,0,1-8.5-8.5v-405a8.50951,8.50951,0,0,1,8.5-8.5h338a8.50982,8.50982,0,0,1,8.5,8.5v405A8.51013,8.51013,0,0,1,878.81836,716.08691Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#e6e6e6\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M723.31813,274.08691h-210.5a17.02411,17.02411,0,0,0-17,17v407.8l2-.61v-407.19a15.01828,15.01828,0,0,1,15-15H723.93825Zm183.5,0h-394a17.02411,17.02411,0,0,0-17,17v458a17.0241,17.0241,0,0,0,17,17h394a17.0241,17.0241,0,0,0,17-17v-458A17.02411,17.02411,0,0,0,906.81813,274.08691Zm15,475a15.01828,15.01828,0,0,1-15,15h-394a15.01828,15.01828,0,0,1-15-15v-458a15.01828,15.01828,0,0,1,15-15h394a15.01828,15.01828,0,0,1,15,15Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#3f3d56\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M801.81836,318.08691h-184a9.01015,9.01015,0,0,1-9-9v-44a9.01016,9.01016,0,0,1,9-9h184a9.01016,9.01016,0,0,1,9,9v44A9.01015,9.01015,0,0,1,801.81836,318.08691Z\",\n    transform: \"translate(-276.18187 -133.91309)\",\n    fill: \"#fb7e3d\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 433.63626,\n    cy: 105.17383,\n    r: 20,\n    fill: \"#fb7e3d\"\n  })), _circle4 || (_circle4 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 433.63626,\n    cy: 105.17383,\n    r: 12.18187,\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEmpty);\nexport default __webpack_public_path__ + \"static/media/empty.622a2e87.svg\";\nexport { ForwardRef as ReactComponent };","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    paddingBottom: 15\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    fontWeight: 'bold'\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n    marginLeft: 10\r\n  },\r\n}));","import React from 'react';\r\nimport {IconButton, Link} from '@material-ui/core';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {Edit, DeleteForever} from '@material-ui/icons';\r\nimport homeStyles from './style';\r\nimport { Grid } from '@material-ui/core';\r\nimport {ReactComponent as EmptyList} from 'assets/images/empty.svg';\r\n\r\n\r\nconst getHost = (url)=> new URL(url).host\r\n\r\nexport default function Credentials({credential_list, handleList, formOpen}) {\r\n  const classes = homeStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleChange = (panel) => (_, isExpanded) => setExpanded(isExpanded ? panel : false);\r\n\r\n\r\n  if(credential_list.length === 0){\r\n    return(\r\n      <div className=\"d-flex flex-column align-items-center\">\r\n        <EmptyList height={120} width={120} className=\"mb-3 mt-5\"/>\r\n        <h2 className=\"text-gradient animated slideInUp animation-duration-3\">No credentials found</h2>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      {credential_list.map((cre, i)=>(\r\n        <Accordion key={cre.id} expanded={expanded === `panel${i}`} onChange={handleChange(`panel${i}`)}>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel1bh-content\"\r\n          >\r\n            {expanded !== `panel${i}` &&\r\n              <img \r\n                width={22}\r\n                height={22}\r\n                alt=\".\"\r\n                className=\"mr-3 rounded-circle\"\r\n                src={`https://besticon-demo.herokuapp.com/icon?url=${cre.url}&size=16..32..64&fallback_icon_color=fff`} />\r\n            }\r\n            <Typography className={`text-truncate ${classes.heading}`}>{cre.title || getHost(cre.url)}</Typography>\r\n            <Typography className={classes.secondaryHeading}>{getHost(cre.url)}</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <CredentialDetails credential={cre} handleList={handleList} formOpen={formOpen}/>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst CredentialDetails = ({credential, handleList, formOpen})=>{\r\n  const [show, setShow] = React.useState(false)\r\n  const date_time = new Date(credential.added_on)\r\n  let date = date_time.toDateString().split(' ')\r\n\r\n  return(\r\n    <Grid container spacing={2}>\r\n      <Grid item>\r\n        <img\r\n          width={80}\r\n          height={80}\r\n          alt=\"logo\"\r\n          className=\"rounded\"\r\n          src={`https://besticon-demo.herokuapp.com/icon?url=${credential.url}&size=64..128..256&fallback_icon_color=fff`} />\r\n      </Grid>\r\n      <Grid item xs={12} sm container>\r\n        <Grid item xs container direction=\"column\" spacing={2}>\r\n          <Grid item xs>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <Typography gutterBottom variant=\"subtitle1\">\r\n                <Link href={credential.url} target=\"_blank\">{getHost(credential.url)}</Link>\r\n              </Typography>\r\n              <small className=\"text-muted text-center\">{date[1]} {date[2]}, {date[3]}<br />{date_time.toLocaleTimeString()}</small>\r\n            </div>\r\n            <Typography variant=\"body2\" gutterBottom>\r\n              Username - <strong className=\"border rounded px-1\">{credential.username}</strong>\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              Password - <strong className=\"border rounded px-1\" onDoubleClick={()=>setShow(!show)}>{show?credential.pswd:'########'}</strong>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <div className=\"d-flex flex-column\">\r\n            <IconButton size=\"small\" color=\"primary\" onClick={()=>formOpen(credential)}>\r\n              <Edit/>\r\n            </IconButton>\r\n            <IconButton size=\"small\" onClick={()=>handleList('DELETE', credential)}>\r\n              <DeleteForever color=\"error\"/>\r\n            </IconButton>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n","import { toast } from \"react-toastify\";\r\nimport axios from \"util/Api\";\r\nimport statusCode from \"util/status-codes\";\r\n\r\n\r\nexport const post = (type, form_inputs)=>{\r\n  const urls = {\r\n    add_credential: '/api/credentials/',\r\n  }\r\n  return new Promise((resolve, reject)=>{\r\n    axios.post(urls[type], form_inputs)\r\n      .then(resp => resp.status === 201 && resolve(resp.data))\r\n      .catch(err=>{\r\n        console.log(err.message)\r\n        toast.error(`${err.response.status} - ${statusCode[err.response.status]}`)\r\n        reject()\r\n      })\r\n  })\r\n}\r\n\r\n\r\nexport const put = (type, form_inputs)=>{\r\n  const urls = {\r\n    update_credential: `/api/credentials/${form_inputs.id}/`,\r\n  }\r\n  return new Promise((resolve, reject)=>{\r\n    axios.put(urls[type], form_inputs)\r\n      .then(resp => resp.status === 200 && resolve(resp.data))\r\n      .catch(err=>{\r\n        console.log(err.message)\r\n        toast.error(`${err.response.status} - ${statusCode[err.response.status]}`)\r\n        reject()\r\n      })\r\n  })\r\n}\r\n\r\n\r\nexport const del = (type, id)=>{\r\n  const urls = {\r\n    delete_credential: `/api/credentials/${id}/`,\r\n  }\r\n  return new Promise((resolve, reject)=>{\r\n    axios.delete(urls[type])\r\n      .then(resp => resp.status === 204 && resolve())\r\n      .catch(err=>{\r\n        console.log(err.message)\r\n        toast.error(`${err.response.status} - ${statusCode[err.response.status]}`)\r\n        reject()\r\n      })\r\n  })\r\n}\r\n\r\n\r\nexport const getSiteTitle = (site_url)=>{\r\n  return new Promise((resolve, reject)=>{\r\n    axios.get(`http://textance.herokuapp.com/title/${site_url}`)\r\n      .then(resp => resp.status === 200 ? resolve(resp.data) : reject())\r\n      .catch((err)=>console.log(err.message))\r\n  })\r\n}","export const success = (msg)=>({\r\n  render: msg,\r\n  type: \"success\",\r\n  isLoading: false,\r\n  autoClose: 3000,\r\n  theme: 'dark'\r\n})\r\n\r\nexport const warning = (msg)=>({\r\n  render: msg,\r\n  type: \"warning\",\r\n  isLoading: false,\r\n  autoClose: 5000,\r\n  theme: 'dark'\r\n})\r\n\r\nexport const error = (msg)=>({\r\n  render: msg,\r\n  type: \"error\",\r\n  isLoading: false,\r\n  autoClose: 5000,\r\n  theme: 'dark'\r\n})","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {AssignmentInd, Link, VpnKey} from '@material-ui/icons';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { InputAdornment, TextField } from '@material-ui/core';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { getSiteTitle, post, put } from 'app/routes/Home/server_actions';\r\nimport { toast } from 'react-toastify';\r\nimport { success, warning } from 'styles/toast-style';\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nexport default function CredentialForm({handleList, handleClose, open, update_data}) {\r\n  const [saving, setSaving] = React.useState(false)\r\n  const { register, control, formState: { errors }, getValues, setValue, handleSubmit, reset } = useForm({\r\n    defaultValues: {}\r\n  });\r\n\r\n  const onSubmit = (data) => {\r\n    const id = toast.loading(\"Saving, Please wait...\")\r\n    const request_func = update_data.current.id ? put : post\r\n    setSaving(true)\r\n    request_func(update_data.current.id?'update_credential':'add_credential', data)\r\n      .then(resp_data => {\r\n        toast.update(id, success('Credential saved.'));\r\n        handleList(update_data.current.id?'UPDATE':'ADD', resp_data)\r\n        handleClose()\r\n      })\r\n      .catch(()=>toast.update(id, warning(\"Could not save the credential!\")))\r\n      .finally(()=>{setSaving(false)})\r\n  };\r\n\r\n  React.useEffect(()=>{\r\n    reset({...update_data.current})\r\n  }, [open, update_data, reset])\r\n\r\n  const handleTitle = React.useCallback((e)=>{\r\n    const value = getValues()\r\n    if(!value.title && !!e.target.value){\r\n      getSiteTitle(e.target.value)\r\n        .then(data => setValue('title', data))\r\n    }\r\n  }, [setValue, getValues])\r\n\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      TransitionComponent={Transition}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"credential-form\"\r\n    >\r\n      <DialogTitle id=\"credential-form\" className=\"text-center\">{update_data.current.id?'Update':'Add New'} Credential</DialogTitle>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <DialogContent>\r\n          <div className=\"form-row\">\r\n            <div className=\"col-12\">\r\n              <Controller\r\n                control={control}\r\n                name=\"title\"\r\n                render={({field: { onChange, value }}) => (\r\n                  <TextField\r\n                    label=\"Title\"\r\n                    size=\"small\"\r\n                    fullWidth\r\n                    disabled={saving}\r\n                    margin=\"normal\"\r\n                    onChange={onChange}\r\n                    value={value||''}\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"col-12\">\r\n              <TextField\r\n                label=\"Website URL\"\r\n                size=\"small\"\r\n                fullWidth\r\n                placeholder=\"www.example.com\"\r\n                type=\"url\"\r\n                margin=\"normal\"\r\n                required\r\n                autoFocus\r\n                disabled={saving}\r\n                onBlur={handleTitle}\r\n                error={!!errors.url}\r\n                inputProps={{...register(\"url\", { required: true }), required: ''}}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\"><Link/></InputAdornment>,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"col-6\">\r\n              <TextField\r\n                label=\"Username\"\r\n                size=\"small\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                required\r\n                disabled={saving}\r\n                error={!!errors.username}\r\n                inputProps={{...register(\"username\", { required: true }), required: ''}}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">{<AssignmentInd/>}</InputAdornment>,\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <TextField\r\n                label=\"Password\"\r\n                size=\"small\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                required\r\n                disabled={saving}\r\n                error={!!errors.pswd}\r\n                inputProps={{...register(\"pswd\", { required: true }), required: ''}}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\"><VpnKey/></InputAdornment>,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions className=\"justify-content-center\">\r\n          <Button onClick={handleClose} size=\"small\" color=\"primary\" disabled={saving}>\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\" size=\"small\" color=\"primary\" variant=\"contained\" disabled={saving}>\r\n            Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n\r\nconst DataSearching = ({text})=>{\r\n  return(\r\n    <div className=\"d-flex flex-column justify-content-center align-items-center\" style={{height: 'calc(100vh - 200px)'}}>\r\n      <div className=\"search-loading-icon\"/>\r\n      <h3 className=\"search-loading-text text-muted mt-4\">{text?text:'Searching...'}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DataSearching;","import React from 'react'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\n\r\nconst CustomScrollbars = (props) => \r\n  <Scrollbars  {...props} autoHide\r\n    renderTrackHorizontal={props => \r\n      <div {...props} style={{ display: 'none' }} />\r\n    }\r\n  />;\r\n\r\nexport default CustomScrollbars;","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Credentials from './Credentials';\r\nimport CredentialForm from 'components/forms/credential-form';\r\nimport axios from 'util/Api';\r\nimport DataSearching from 'components/loading/searching';\r\nimport { toast } from 'react-toastify';\r\nimport statusCode from 'util/status-codes';\r\nimport { del } from './server_actions';\r\nimport {success, error} from 'styles/toast-style';\r\nimport CustomScrollbars from 'util/CustomScrollbars';\r\n\r\n\r\n// eslint-disable-next-line\r\nexport default () => {\r\n\tconst query = useSelector(({search})=>search.query)\r\n\tconst [open, setOpen] = React.useState(false);\r\n\tconst [loading, setLoading] = React.useState(true)\r\n\tconst [credential_list, setCredentialList] = React.useState([])\r\n\tconst credentials = React.useRef([])\r\n\tconst update_data = React.useRef({})\r\n\r\n\tReact.useEffect(()=>{\r\n\t\taxios.get('/api/credentials')\r\n\t\t\t.then(resp=>{\r\n\t\t\t\tif(resp.status === 200){\r\n\t\t\t\t\tcredentials.current = resp.data\r\n\t\t\t\t\tsetCredentialList(resp.data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error=>{\r\n\t\t\t\ttoast(error.response ? statusCode[error.response.status] : error.message)\r\n\t\t\t})\r\n\t\t\t.finally(()=>setLoading(false))\r\n\t},[])\r\n\r\n\tconst handleClose = () => setOpen(false)\r\n\r\n\tconst formOpen = (form_data)=>{\r\n\t\tupdate_data.current = form_data.id ? form_data : {}\r\n\t\tsetOpen(true)\r\n\t}\r\n\r\n\tconst handleList = (action_type, data)=>{\r\n\t\tif(action_type==='ADD'){\r\n\t\t\tcredentials.current = [...credential_list, data]\r\n\t\t\tsetCredentialList(credentials.current)\r\n\t\t} else if(action_type==='UPDATE'){\r\n\t\t\tconst idx = credential_list.findIndex(val => val.id === data.id)\r\n\t\t\tcredential_list[idx] = data\r\n\t\t\tcredentials.current = [...credential_list]\r\n\t\t\tsetCredentialList([...credential_list])\r\n\t\t} else if(action_type==='DELETE'){\r\n\t\t\tconst t_id = toast.loading('Deleting credential...')\r\n\t\t\tdel('delete_credential', data.id)\r\n\t\t\t\t.then(_ => {\r\n\t\t\t\t\ttoast.update(t_id, success('Credential deleted.'))\r\n\t\t\t\t\tcredentials.current = [...credential_list.filter(val => val.id !== data.id)]\r\n\t\t\t\t\tsetCredentialList(credentials.current)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(()=>toast.update(t_id, error(\"Credential could not delete!\")))\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tReact.useEffect(()=>{\r\n\t\tlet new_list = credentials.current.filter(obj => (['title', 'url']).some(key => obj[key]?.toLowerCase().includes(query||'')))\r\n\t\tsetCredentialList([...new_list])\r\n\t},[query])\r\n\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<CustomScrollbars>\r\n\t\t\t\t<div className=\"app-wrapper container\">\r\n\t\t\t\t\t{!loading\r\n\t\t\t\t\t\t?\t<Credentials credential_list={credential_list} formOpen={formOpen} handleList={handleList}/>\r\n\t\t\t\t\t\t: <DataSearching text=\"Looking for credentials...\"/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</CustomScrollbars>\r\n\t\t\t<Fab size=\"medium\" className=\"bg-gradient text-white position-fixed animated zoomIn\" onClick={formOpen} style={{bottom: 20, right: 20}}>\r\n\t\t\t\t<AddIcon fontSize=\"large\"/>\r\n\t\t\t</Fab>\r\n\t\t\t<CredentialForm update_data={update_data} handleList={handleList} handleClose={handleClose} open={open}/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}"],"sourceRoot":""}